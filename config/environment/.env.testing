# Testing Environment Configuration
# =================================
# This file contains all environment variables for automated testing

# Application Configuration
NODE_ENV=test
ENVIRONMENT=testing
APP_VERSION=test
BUILD_DATE=test
GIT_BRANCH=test
GIT_SHA=test

# Port Configuration (Internal to containers)
WEB_PORT=3002
API_GATEWAY_PORT=3104
LABELING_BACKEND_PORT=3101
PAYMENT_BACKEND_PORT=3103
POSTGRES_PORT=5432
REDIS_PORT=6379
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# Database Configuration
POSTGRES_DB=labelmint_test
POSTGRES_USER=labelmint_test
POSTGRES_PASSWORD=test_password_123
DATABASE_URL=postgresql://labelmint_test:test_password_123@postgres:5432/labelmint_test

# Redis Configuration
REDIS_PASSWORD=test_redis_password
REDIS_URL=redis://:test_redis_password@redis:6379

# Authentication & Security
JWT_SECRET=test_jwt_secret_key_for_testing_only
JWT_EXPIRES_IN=1h
SESSION_SECRET=test_session_secret_for_testing_only
BCRYPT_ROUNDS=4  # Faster for testing

# TON Blockchain Configuration (Testnet)
TON_API_KEY=test_ton_api_key
TON_RPC_ENDPOINT=https://testnet.toncenter.com/api/v2/jsonRPC
TON_MERCHANT_ADDRESS=0:test_merchant_address
USDT_MASTER_CONTRACT=0:test_usdt_contract

# Telegram Bot Configuration (Test Bots)
TELEGRAM_BOT_TOKEN_CLIENT=test_client_bot_token
TELEGRAM_BOT_TOKEN_WORKER=test_worker_bot_token
CLIENT_BOT_TOKEN=test_client_bot_token
WORKER_BOT_TOKEN=test_worker_bot_token
TELEGRAM_WEB_APP_URL=http://localhost:3000

# Application URLs
NEXT_PUBLIC_API_URL=http://api-gateway:3104
NEXT_PUBLIC_WS_URL=ws://api-gateway:3104
WEB_APP_URL=http://web:3002
LABELING_API_URL=http://labeling-backend:3101
PAYMENT_API_URL=http://payment-backend:3103
WS_URL=ws://labeling-backend:3101

# Storage Configuration (Test MinIO)
MINIO_ACCESS_KEY=testaccesskey
MINIO_SECRET_KEY=testsecretkey
MINIO_ENDPOINT=minio:9000
MINIO_REGION=us-east-1
MINIO_BUCKET=labelmint-test

# Logging Configuration
LOG_LEVEL=error  # Reduce noise in tests
LOG_FORMAT=json

# Testing Configuration
TEST_TIMEOUT=30000
TEST_RETRIES=3
TEST_PARALLEL_WORKERS=4
COVERAGE_ENABLED=true
COVERAGE_THRESHOLD=80

# Mock Configuration
USE_MOCK_SERVICES=false
MOCK_TON_PAYMENTS=false
MOCK_TELEGRAM_BOT=false
MOCK_EMAIL_SERVICE=true

# Test Data Configuration
SEED_TEST_DATA=true
CLEANUP TestData=true
PRESERVE_TEST_DATABASE=false

# Performance Test Configuration
LOAD_TEST_ENABLED=false
LOAD_TEST_USERS=100
LOAD_TEST_DURATION=300

# Security Testing
SECURITY_TEST_ENABLED=true
VULNERABILITY_SCAN_ENABLED=true

# Integration Test Configuration
INTEGRATION_TEST_TIMEOUT=60000
E2E_TEST_TIMEOUT=120000

# CI/CD Configuration
CI_ENVIRONMENT=true
HEADLESS_MODE=true
PARALLEL_EXECUTION=true

# Database Testing
TEST_DATABASE_RESET=true
TEST_MIGRATIONS=true
TEST_SEEDS=true

# Feature Flags (Test Environment)
FEATURE_PAYMENTS=true
FEATURE_BOTS=true
FEATURE_MONITORING=false
FEATURE_DEBUG_TOOLS=true
FEATURE_ANALYTICS=false

# Cache Configuration (Disabled for testing)
CACHE_TTL=0
DISABLE_CACHE=true

# File Upload Testing
MAX_UPLOAD_SIZE=1048576  # 1MB for testing
UPLOAD_TEST_FILES=true

# API Rate Limiting (Relaxed for testing)
RATE_LIMIT_WINDOW_MS=1000
RATE_LIMIT_MAX_REQUESTS=1000

# External Service Mocking
MOCK_EXTERNAL_APIS=true
EXTERNAL_API_DELAY=0
EXTERNAL_API_FAILURE_RATE=0