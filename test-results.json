2:09:29 AM [vite] warning: This assignment will throw because "channel" is a constant
234|            };
235|          }
236|          channel = workerChannel;
   |          ^
237|        }
238|  

  Plugin: vite:esbuild
  File: /Users/ivan/Code/labelmint/services/labeling-backend/src/services/paymentChannel.ts
{"numTotalTestSuites":45,"numPassedTestSuites":15,"numFailedTestSuites":30,"numPendingTestSuites":0,"numTotalTests":105,"numPassedTests":47,"numFailedTests":58,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1761260969474,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Smoke Tests"],"fullName":"Smoke Tests should pass basic math","status":"passed","title":"should pass basic math","duration":0.7589999999999861,"failureMessages":[],"meta":{}},{"ancestorTitles":["Smoke Tests"],"fullName":"Smoke Tests should handle async operations","status":"passed","title":"should handle async operations","duration":0.14862500000000978,"failureMessages":[],"meta":{}},{"ancestorTitles":["Smoke Tests"],"fullName":"Smoke Tests should handle faker imports","status":"passed","title":"should handle faker imports","duration":358.361875,"failureMessages":[],"meta":{}}],"startTime":1761260969732,"endTime":1761260970091.3618,"status":"passed","message":"","name":"/Users/ivan/Code/labelmint/test/smoke.test.ts"},{"assertionResults":[],"startTime":1761260969474,"endTime":1761260969474,"status":"failed","message":"Cannot find module '@payment/PaymentManager' imported from '/Users/ivan/Code/labelmint/test/integration/payment-system.test.ts'.\n\n- If you rely on tsconfig.json's \"paths\" to resolve modules, please install \"vite-tsconfig-paths\" plugin to handle module resolution.\n- Make sure you don't have relative aliases in your Vitest config. Use absolute paths instead. Read more: https://vitest.dev/guide/common-errors","name":"/Users/ivan/Code/labelmint/test/integration/payment-system.test.ts"},{"assertionResults":[{"ancestorTitles":["Basic Test Setup"],"fullName":"Basic Test Setup should run a simple test","status":"passed","title":"should run a simple test","duration":0.5247919999999908,"failureMessages":[],"meta":{}},{"ancestorTitles":["Basic Test Setup"],"fullName":"Basic Test Setup should handle async operations","status":"passed","title":"should handle async operations","duration":0.16170900000000188,"failureMessages":[],"meta":{}},{"ancestorTitles":["Basic Test Setup"],"fullName":"Basic Test Setup should have access to test utilities","status":"passed","title":"should have access to test utilities","duration":0.09487500000000182,"failureMessages":[],"meta":{}}],"startTime":1761260969739,"endTime":1761260969740.1616,"status":"passed","message":"","name":"/Users/ivan/Code/labelmint/test/unit/basic.test.ts"},{"assertionResults":[{"ancestorTitles":["Consensus Basic Logic","Label Counting"],"fullName":"Consensus Basic Logic Label Counting should count labels correctly","status":"passed","title":"should count labels correctly","duration":0.6075830000000053,"failureMessages":[],"meta":{}},{"ancestorTitles":["Consensus Basic Logic","Label Counting"],"fullName":"Consensus Basic Logic Label Counting should calculate consensus threshold","status":"passed","title":"should calculate consensus threshold","duration":0.11324999999999363,"failureMessages":[],"meta":{}},{"ancestorTitles":["Consensus Basic Logic","Label Counting"],"fullName":"Consensus Basic Logic Label Counting should determine consensus reached","status":"passed","title":"should determine consensus reached","duration":0.09687500000001137,"failureMessages":[],"meta":{}},{"ancestorTitles":["Consensus Basic Logic","Task States"],"fullName":"Consensus Basic Logic Task States should validate state transitions","status":"passed","title":"should validate state transitions","duration":0.07320899999999142,"failureMessages":[],"meta":{}},{"ancestorTitles":["Consensus Basic Logic","Honeypot Tasks"],"fullName":"Consensus Basic Logic Honeypot Tasks should validate honeypot answers","status":"passed","title":"should validate honeypot answers","duration":0.046291999999994005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Consensus Basic Logic","Honeypot Tasks"],"fullName":"Consensus Basic Logic Honeypot Tasks should update worker accuracy","status":"passed","title":"should update worker accuracy","duration":0.09787499999998772,"failureMessages":[],"meta":{}},{"ancestorTitles":["Consensus Basic Logic","Batch Processing"],"fullName":"Consensus Basic Logic Batch Processing should process tasks in batches","status":"passed","title":"should process tasks in batches","duration":0.4469999999999743,"failureMessages":[],"meta":{}},{"ancestorTitles":["Consensus Basic Logic","Batch Processing"],"fullName":"Consensus Basic Logic Batch Processing should handle concurrent processing","status":"passed","title":"should handle concurrent processing","duration":9.627874999999989,"failureMessages":[],"meta":{}}],"startTime":1761260969735,"endTime":1761260969746.628,"status":"passed","message":"","name":"/Users/ivan/Code/labelmint/test/unit/consensus-basic.test.ts"},{"assertionResults":[{"ancestorTitles":["TaskStateMachine","Initial State"],"fullName":"TaskStateMachine Initial State should initialize with correct state","status":"failed","title":"should initialize with correct state","duration":2.6957500000000323,"failureMessages":["TypeError: stateMachine.getCurrentState is not a function\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:18:27\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Initial State"],"fullName":"TaskStateMachine Initial State should accept valid initial states","status":"passed","title":"should accept valid initial states","duration":0.9598330000000033,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Transitions"],"fullName":"TaskStateMachine State Transitions should allow valid transition from CREATED to ASSIGNED","status":"failed","title":"should allow valid transition from CREATED to ASSIGNED","duration":0.6357079999999655,"failureMessages":["TypeError: stateMachine.getCurrentState is not a function\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:35:27\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///Users/ivan/Code/labelmint/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Transitions"],"fullName":"TaskStateMachine State Transitions should reject invalid transition from CREATED to COMPLETED","status":"failed","title":"should reject invalid transition from CREATED to COMPLETED","duration":0.4988749999999982,"failureMessages":["InvalidStateTransition: Invalid state transition from created to completed. Valid transitions: assigned, cancelled, expired\n    at TaskStateMachine.transition (/Users/ivan/Code/labelmint/packages/shared/src/consensus/TaskStateMachine.ts:113:13)\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:43:22\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Transitions"],"fullName":"TaskStateMachine State Transitions should allow transition from ASSIGNED to IN_PROGRESS","status":"failed","title":"should allow transition from ASSIGNED to IN_PROGRESS","duration":0.2535410000000411,"failureMessages":["TypeError: stateMachine.getCurrentState is not a function\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:54:27\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///Users/ivan/Code/labelmint/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Transitions"],"fullName":"TaskStateMachine State Transitions should allow transition from IN_PROGRESS to PENDING_REVIEW","status":"failed","title":"should allow transition from IN_PROGRESS to PENDING_REVIEW","duration":0.2016659999999888,"failureMessages":["TypeError: stateMachine.getCurrentState is not a function\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:62:27\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///Users/ivan/Code/labelmint/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Transitions"],"fullName":"TaskStateMachine State Transitions should allow transition from PENDING_REVIEW to CONSENSUS_REACHED","status":"failed","title":"should allow transition from PENDING_REVIEW to CONSENSUS_REACHED","duration":0.3808750000000032,"failureMessages":["TypeError: stateMachine.getCurrentState is not a function\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:71:27\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///Users/ivan/Code/labelmint/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Transitions"],"fullName":"TaskStateMachine State Transitions should allow transition from PENDING_REVIEW to CONFLICT_DETECTED","status":"failed","title":"should allow transition from PENDING_REVIEW to CONFLICT_DETECTED","duration":0.1435830000000351,"failureMessages":["TypeError: stateMachine.getCurrentState is not a function\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:80:27\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///Users/ivan/Code/labelmint/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Transitions"],"fullName":"TaskStateMachine State Transitions should allow transition from CONFLICT_DETECTED back to ASSIGNED","status":"failed","title":"should allow transition from CONFLICT_DETECTED back to ASSIGNED","duration":0.27408300000001873,"failureMessages":["TypeError: stateMachine.getCurrentState is not a function\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:90:27\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///Users/ivan/Code/labelmint/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Transitions"],"fullName":"TaskStateMachine State Transitions should allow transition from CONSENSUS_REACHED to COMPLETED","status":"failed","title":"should allow transition from CONSENSUS_REACHED to COMPLETED","duration":0.1630840000000262,"failureMessages":["TypeError: stateMachine.getCurrentState is not a function\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:100:27\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///Users/ivan/Code/labelmint/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Transitions"],"fullName":"TaskStateMachine State Transitions should allow transition from any state to FAILED","status":"failed","title":"should allow transition from any state to FAILED","duration":0.13087500000000318,"failureMessages":["InvalidStateTransition: Invalid state transition from created to failed. Valid transitions: assigned, cancelled, expired\n    at TaskStateMachine.transition (/Users/ivan/Code/labelmint/packages/shared/src/consensus/TaskStateMachine.ts:113:13)\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:108:18\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Consensus Calculation"],"fullName":"TaskStateMachine Consensus Calculation should calculate consensus correctly with 2/3 agreement","status":"failed","title":"should calculate consensus correctly with 2/3 agreement","duration":1.1874579999999924,"failureMessages":["AssertionError: expected 'undefined' to be 'cat' // Object.is equality\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:125:34\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///Users/ivan/Code/labelmint/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Consensus Calculation"],"fullName":"TaskStateMachine Consensus Calculation should not reach consensus with no clear majority","status":"failed","title":"should not reach consensus with no clear majority","duration":0.4852080000000001,"failureMessages":["AssertionError: expected true to be false // Object.is equality\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:142:30\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///Users/ivan/Code/labelmint/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Consensus Calculation"],"fullName":"TaskStateMachine Consensus Calculation should not reach consensus with insufficient labels","status":"failed","title":"should not reach consensus with insufficient labels","duration":0.16991600000000062,"failureMessages":["AssertionError: expected undefined to be null\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:156:34\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///Users/ivan/Code/labelmint/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Consensus Calculation"],"fullName":"TaskStateMachine Consensus Calculation should handle consensus with all labels agreeing","status":"failed","title":"should handle consensus with all labels agreeing","duration":0.2792910000000006,"failureMessages":["AssertionError: expected 'undefined' to be 'cat' // Object.is equality\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:169:34\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///Users/ivan/Code/labelmint/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Consensus Calculation"],"fullName":"TaskStateMachine Consensus Calculation should calculate weighted consensus with confidence scores","status":"failed","title":"should calculate weighted consensus with confidence scores","duration":0.3363750000000323,"failureMessages":["AssertionError: expected 'undefined' to be 'cat' // Object.is equality\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:183:34\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///Users/ivan/Code/labelmint/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["TaskStateMachine","State History"],"fullName":"TaskStateMachine State History should track state transition history","status":"failed","title":"should track state transition history","duration":1.1497909999999933,"failureMessages":["AssertionError: expected [ { taskId: 'created', …(3) }, …(2) ] to have a length of 4 but got 3\n    at Proxy.<anonymous> (file:///Users/ivan/Code/labelmint/node_modules/@vitest/expect/dist/index.js:1339:22)\n    at Proxy.<anonymous> (file:///Users/ivan/Code/labelmint/node_modules/@vitest/expect/dist/index.js:972:17)\n    at Proxy.methodWrapper (file:///Users/ivan/Code/labelmint/node_modules/chai/index.js:1686:25)\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:196:23\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","State History"],"fullName":"TaskStateMachine State History should include timestamps in state history","status":"failed","title":"should include timestamps in state history","duration":0.17866700000001856,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'timestamp')\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:210:25\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///Users/ivan/Code/labelmint/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Event Emission"],"fullName":"TaskStateMachine Event Emission should emit events on state transitions","status":"failed","title":"should emit events on state transitions","duration":2.1613329999999564,"failureMessages":["AssertionError: expected { taskId: 1, …(1) } to deeply equal { taskId: 1 }\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:228:33\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///Users/ivan/Code/labelmint/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Event Emission"],"fullName":"TaskStateMachine Event Emission should emit consensus reached event","status":"failed","title":"should emit consensus reached event","duration":0.2762920000000122,"failureMessages":["AssertionError: expected [] to have a length of 1 but got +0\n    at Proxy.<anonymous> (file:///Users/ivan/Code/labelmint/node_modules/@vitest/expect/dist/index.js:1339:22)\n    at Proxy.<anonymous> (file:///Users/ivan/Code/labelmint/node_modules/@vitest/expect/dist/index.js:972:17)\n    at Proxy.methodWrapper (file:///Users/ivan/Code/labelmint/node_modules/chai/index.js:1686:25)\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:245:22\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Error Handling"],"fullName":"TaskStateMachine Error Handling should throw error for invalid target state","status":"failed","title":"should throw error for invalid target state","duration":0.13633399999997664,"failureMessages":["InvalidStateTransition: Invalid state transition from created to INVALID_STATE. Valid transitions: assigned, cancelled, expired\n    at TaskStateMachine.transition (/Users/ivan/Code/labelmint/packages/shared/src/consensus/TaskStateMachine.ts:113:13)\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:254:22\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Error Handling"],"fullName":"TaskStateMachine Error Handling should throw error when transitioning from final state","status":"failed","title":"should throw error when transitioning from final state","duration":0.13695900000004713,"failureMessages":["InvalidStateTransition: Invalid state transition from completed to assigned. Valid transitions: none\n    at TaskStateMachine.transition (/Users/ivan/Code/labelmint/packages/shared/src/consensus/TaskStateMachine.ts:113:13)\n    at /Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts:266:22\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Error Handling"],"fullName":"TaskStateMachine Error Handling should handle malformed label data gracefully","status":"passed","title":"should handle malformed label data gracefully","duration":0.11587499999995998,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Performance"],"fullName":"TaskStateMachine Performance should handle large number of labels efficiently","status":"passed","title":"should handle large number of labels efficiently","duration":0.226333000000011,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Performance"],"fullName":"TaskStateMachine Performance should handle rapid state transitions","status":"passed","title":"should handle rapid state transitions","duration":0.1304169999999658,"failureMessages":[],"meta":{}}],"startTime":1761260969880,"endTime":1761260969893.2263,"status":"failed","message":"","name":"/Users/ivan/Code/labelmint/test/unit/consensus-state-machine.test.ts"},{"assertionResults":[{"ancestorTitles":["PaymentProcessor","Deposits"],"fullName":"PaymentProcessor Deposits should process TON deposit successfully","status":"failed","title":"should process TON deposit successfully","duration":2.3818749999999795,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Deposits"],"fullName":"PaymentProcessor Deposits should process USDT deposit successfully","status":"failed","title":"should process USDT deposit successfully","duration":0.20100000000002183,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Deposits"],"fullName":"PaymentProcessor Deposits should reject deposit with invalid address","status":"failed","title":"should reject deposit with invalid address","duration":0.17941700000000083,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Deposits"],"fullName":"PaymentProcessor Deposits should track deposit in user balance","status":"failed","title":"should track deposit in user balance","duration":0.25670800000000327,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Withdrawals"],"fullName":"PaymentProcessor Withdrawals should process TON withdrawal successfully","status":"failed","title":"should process TON withdrawal successfully","duration":0.19266700000002857,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Withdrawals"],"fullName":"PaymentProcessor Withdrawals should process USDT withdrawal successfully","status":"failed","title":"should process USDT withdrawal successfully","duration":0.11450000000002092,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Withdrawals"],"fullName":"PaymentProcessor Withdrawals should reject withdrawal with insufficient balance","status":"failed","title":"should reject withdrawal with insufficient balance","duration":0.2547089999999912,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Withdrawals"],"fullName":"PaymentProcessor Withdrawals should update user balance after withdrawal","status":"failed","title":"should update user balance after withdrawal","duration":0.15895799999998417,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Task Payments"],"fullName":"PaymentProcessor Task Payments should process task payment from requester to worker","status":"failed","title":"should process task payment from requester to worker","duration":0.17858300000000327,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Task Payments"],"fullName":"PaymentProcessor Task Payments should process batch task payments","status":"failed","title":"should process batch task payments","duration":0.13024999999998954,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Task Payments"],"fullName":"PaymentProcessor Task Payments should refund failed task payments","status":"failed","title":"should refund failed task payments","duration":0.09066699999999628,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Rewards and Bonuses"],"fullName":"PaymentProcessor Rewards and Bonuses should give accuracy bonus to high-performing workers","status":"failed","title":"should give accuracy bonus to high-performing workers","duration":0.08879100000001472,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Rewards and Bonuses"],"fullName":"PaymentProcessor Rewards and Bonuses should give referral bonus","status":"failed","title":"should give referral bonus","duration":0.07925000000000182,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Rewards and Bonuses"],"fullName":"PaymentProcessor Rewards and Bonuses should apply streak bonus for consecutive tasks","status":"failed","title":"should apply streak bonus for consecutive tasks","duration":0.08691700000002811,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Penalties"],"fullName":"PaymentProcessor Penalties should apply penalty for failed honeypot","status":"failed","title":"should apply penalty for failed honeypot","duration":0.08354100000002518,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Penalties"],"fullName":"PaymentProcessor Penalties should apply penalty for poor quality work","status":"failed","title":"should apply penalty for poor quality work","duration":0.0833329999999819,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Transaction History"],"fullName":"PaymentProcessor Transaction History should retrieve transaction history","status":"failed","title":"should retrieve transaction history","duration":0.07558299999999463,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Transaction History"],"fullName":"PaymentProcessor Transaction History should filter transactions by type","status":"failed","title":"should filter transactions by type","duration":0.08000000000004093,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Transaction History"],"fullName":"PaymentProcessor Transaction History should filter transactions by date range","status":"failed","title":"should filter transactions by date range","duration":0.08470800000003464,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Transaction History"],"fullName":"PaymentProcessor Transaction History should paginate transaction history","status":"failed","title":"should paginate transaction history","duration":0.07329199999998082,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Payment Statistics"],"fullName":"PaymentProcessor Payment Statistics should calculate user payment statistics","status":"failed","title":"should calculate user payment statistics","duration":0.09379099999995333,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Payment Statistics"],"fullName":"PaymentProcessor Payment Statistics should calculate platform payment statistics","status":"failed","title":"should calculate platform payment statistics","duration":0.07479200000000219,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Payment Statistics"],"fullName":"PaymentProcessor Payment Statistics should calculate payment method distribution","status":"failed","title":"should calculate payment method distribution","duration":0.07587499999999636,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Fee Calculation"],"fullName":"PaymentProcessor Fee Calculation should calculate withdrawal fees correctly","status":"failed","title":"should calculate withdrawal fees correctly","duration":0.07283300000000281,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Fee Calculation"],"fullName":"PaymentProcessor Fee Calculation should apply fee discounts for high volume users","status":"failed","title":"should apply fee discounts for high volume users","duration":0.07416599999999107,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Fee Calculation"],"fullName":"PaymentProcessor Fee Calculation should have no fees for internal transfers","status":"failed","title":"should have no fees for internal transfers","duration":0.07816700000000765,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Security"],"fullName":"PaymentProcessor Security should validate withdrawal addresses","status":"failed","title":"should validate withdrawal addresses","duration":1.6487079999999992,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Security"],"fullName":"PaymentProcessor Security should detect suspicious transaction patterns","status":"failed","title":"should detect suspicious transaction patterns","duration":0.09233399999999392,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["PaymentProcessor","Security"],"fullName":"PaymentProcessor Security should block transactions from sanctioned addresses","status":"failed","title":"should block transactions from sanctioned addresses","duration":0.07820800000001782,"failureMessages":["ReferenceError: TonWalletStrategy is not defined\n    at /Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts:28:5\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:964:22)\n    at callSuiteHook (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:953:10)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1040:30)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}}],"startTime":1761260969849,"endTime":1761260969857.0781,"status":"failed","message":"","name":"/Users/ivan/Code/labelmint/test/unit/backend/PaymentService.test.ts"},{"assertionResults":[],"startTime":1761260969474,"endTime":1761260969474,"status":"failed","message":"TonClient is not a constructor","name":"/Users/ivan/Code/labelmint/test/unit/backend/TaskService.test.ts"},{"assertionResults":[{"ancestorTitles":["TaskStateMachine","State Management"],"fullName":"TaskStateMachine State Management should start in CREATED state","status":"passed","title":"should start in CREATED state","duration":0.6947920000000067,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Management"],"fullName":"TaskStateMachine State Management should transition from CREATED to ASSIGNED","status":"passed","title":"should transition from CREATED to ASSIGNED","duration":0.6818329999999833,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Management"],"fullName":"TaskStateMachine State Management should reject invalid state transitions","status":"passed","title":"should reject invalid state transitions","duration":0.1512920000000122,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Management"],"fullName":"TaskStateMachine State Management should allow valid state transitions","status":"passed","title":"should allow valid state transitions","duration":0.5133749999999964,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Management"],"fullName":"TaskStateMachine State Management should track state history","status":"passed","title":"should track state history","duration":0.3507910000000152,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Management"],"fullName":"TaskStateMachine State Management should emit state change events","status":"passed","title":"should emit state change events","duration":1.117541000000017,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Management"],"fullName":"TaskStateMachine State Management should check if can transition to state","status":"passed","title":"should check if can transition to state","duration":0.06554099999999607,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Management"],"fullName":"TaskStateMachine State Management should get possible next states","status":"passed","title":"should get possible next states","duration":0.268209000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Consensus Calculation"],"fullName":"TaskStateMachine Consensus Calculation should return no consensus for empty labels","status":"passed","title":"should return no consensus for empty labels","duration":0.18804099999999835,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Consensus Calculation"],"fullName":"TaskStateMachine Consensus Calculation should not reach consensus with insufficient labels","status":"passed","title":"should not reach consensus with insufficient labels","duration":0.09233299999999645,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Consensus Calculation"],"fullName":"TaskStateMachine Consensus Calculation should reach consensus with majority agreement","status":"failed","title":"should reach consensus with majority agreement","duration":2.477125000000001,"failureMessages":["AssertionError: expected undefined to be 'cat' // Object.is equality\n    at /Users/ivan/Code/labelmint/test/unit/consensus/TaskStateMachine.test.ts:145:34\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Consensus Calculation"],"fullName":"TaskStateMachine Consensus Calculation should detect conflict when no majority","status":"passed","title":"should detect conflict when no majority","duration":0.10250000000002046,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Consensus Calculation"],"fullName":"TaskStateMachine Consensus Calculation should detect conflict with tie","status":"failed","title":"should detect conflict with tie","duration":0.8299169999999663,"failureMessages":["AssertionError: expected true to be false // Object.is equality\n    at /Users/ivan/Code/labelmint/test/unit/consensus/TaskStateMachine.test.ts:176:30\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Consensus Calculation"],"fullName":"TaskStateMachine Consensus Calculation should handle consensus with different thresholds","status":"failed","title":"should handle consensus with different thresholds","duration":0.3073330000000283,"failureMessages":["AssertionError: expected undefined to be 'cat' // Object.is equality\n    at /Users/ivan/Code/labelmint/test/unit/consensus/TaskStateMachine.test.ts:197:34\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Automated Transitions"],"fullName":"TaskStateMachine Automated Transitions should auto-assign task","status":"passed","title":"should auto-assign task","duration":0.09529199999997218,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Automated Transitions"],"fullName":"TaskStateMachine Automated Transitions should start work","status":"passed","title":"should start work","duration":0.0696659999999838,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Automated Transitions"],"fullName":"TaskStateMachine Automated Transitions should submit for review","status":"passed","title":"should submit for review","duration":0.06566699999996217,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Automated Transitions"],"fullName":"TaskStateMachine Automated Transitions should handle consensus reached","status":"passed","title":"should handle consensus reached","duration":0.11600000000004229,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Automated Transitions"],"fullName":"TaskStateMachine Automated Transitions should handle conflict detected","status":"passed","title":"should handle conflict detected","duration":0.07562500000000227,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Automated Transitions"],"fullName":"TaskStateMachine Automated Transitions should request more labels when insufficient","status":"failed","title":"should request more labels when insufficient","duration":0.4133330000000228,"failureMessages":["InvalidStateTransition: Invalid state transition from pending_review to assigned. Valid transitions: consensus_reached, conflict_detected, under_dispute\n    at TaskStateMachine.transition (/Users/ivan/Code/labelmint/packages/shared/src/consensus/TaskStateMachine.ts:113:13)\n    at TaskStateMachine.processConsensusResult (/Users/ivan/Code/labelmint/packages/shared/src/consensus/TaskStateMachine.ts:389:12)\n    at /Users/ivan/Code/labelmint/test/unit/consensus/TaskStateMachine.test.ts:287:21\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Automated Transitions"],"fullName":"TaskStateMachine Automated Transitions should handle task expiration","status":"passed","title":"should handle task expiration","duration":0.06587500000000546,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Automated Transitions"],"fullName":"TaskStateMachine Automated Transitions should handle task failure","status":"passed","title":"should handle task failure","duration":0.05895799999996143,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Automated Transitions"],"fullName":"TaskStateMachine Automated Transitions should cancel task","status":"passed","title":"should cancel task","duration":0.586832999999956,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Additional Reviewers"],"fullName":"TaskStateMachine Additional Reviewers should need additional reviewers for insufficient labels","status":"passed","title":"should need additional reviewers for insufficient labels","duration":0.21450000000004366,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Additional Reviewers"],"fullName":"TaskStateMachine Additional Reviewers should need additional reviewers for conflict","status":"passed","title":"should need additional reviewers for conflict","duration":0.08741599999996197,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Additional Reviewers"],"fullName":"TaskStateMachine Additional Reviewers should not need additional reviewers when consensus reached","status":"passed","title":"should not need additional reviewers when consensus reached","duration":0.05666600000000699,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Additional Reviewers"],"fullName":"TaskStateMachine Additional Reviewers should respect maximum reviewers limit","status":"passed","title":"should respect maximum reviewers limit","duration":0.08599999999995589,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Honeypot Tasks"],"fullName":"TaskStateMachine Honeypot Tasks should create honeypot state machine","status":"passed","title":"should create honeypot state machine","duration":0.07129199999997127,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Honeypot Tasks"],"fullName":"TaskStateMachine Honeypot Tasks should reach consensus with single label for honeypot","status":"passed","title":"should reach consensus with single label for honeypot","duration":0.05816599999997152,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Utilities"],"fullName":"TaskStateMachine State Utilities should check if state is terminal","status":"failed","title":"should check if state is terminal","duration":0.17912500000005593,"failureMessages":["TypeError: Cannot set property state of #<TaskStateMachine> which has only a getter\n    at /Users/ivan/Code/labelmint/test/unit/consensus/TaskStateMachine.test.ts:399:15\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Utilities"],"fullName":"TaskStateMachine State Utilities should check if state is active","status":"failed","title":"should check if state is active","duration":0.17795799999998962,"failureMessages":["TypeError: Cannot set property state of #<TaskStateMachine> which has only a getter\n    at /Users/ivan/Code/labelmint/test/unit/consensus/TaskStateMachine.test.ts:411:15\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Utilities"],"fullName":"TaskStateMachine State Utilities should check if consensus can be calculated","status":"failed","title":"should check if consensus can be calculated","duration":0.13766700000002174,"failureMessages":["TypeError: Cannot set property state of #<TaskStateMachine> which has only a getter\n    at /Users/ivan/Code/labelmint/test/unit/consensus/TaskStateMachine.test.ts:421:15\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1262:5)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","State Utilities"],"fullName":"TaskStateMachine State Utilities should track time in state","status":"passed","title":"should track time in state","duration":13.019124999999974,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Serialization"],"fullName":"TaskStateMachine Serialization should serialize to JSON","status":"passed","title":"should serialize to JSON","duration":0.16020800000001145,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Serialization"],"fullName":"TaskStateMachine Serialization should create from JSON","status":"failed","title":"should create from JSON","duration":1.335374999999999,"failureMessages":["AssertionError: expected [ { taskId: 'test', …(3) } ] to have a length of 2 but got 1\n    at Proxy.<anonymous> (file:///Users/ivan/Code/labelmint/node_modules/@vitest/expect/dist/index.js:1339:22)\n    at Proxy.<anonymous> (file:///Users/ivan/Code/labelmint/node_modules/@vitest/expect/dist/index.js:972:17)\n    at Proxy.methodWrapper (file:///Users/ivan/Code/labelmint/node_modules/chai/index.js:1686:25)\n    at /Users/ivan/Code/labelmint/test/unit/consensus/TaskStateMachine.test.ts:476:42\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///Users/ivan/Code/labelmint/node_modules/@vitest/runner/dist/index.js:1205:15)"],"meta":{}},{"ancestorTitles":["TaskStateMachine","Configuration"],"fullName":"TaskStateMachine Configuration should use default configuration","status":"passed","title":"should use default configuration","duration":0.08908299999995961,"failureMessages":[],"meta":{}},{"ancestorTitles":["TaskStateMachine","Configuration"],"fullName":"TaskStateMachine Configuration should accept custom configuration","status":"passed","title":"should accept custom configuration","duration":0.07808299999999235,"failureMessages":[],"meta":{}}],"startTime":1761260969757,"endTime":1761260969783.089,"status":"failed","message":"","name":"/Users/ivan/Code/labelmint/test/unit/consensus/TaskStateMachine.test.ts"},{"assertionResults":[],"startTime":1761260969474,"endTime":1761260969474,"status":"failed","message":"Cannot find module '@bot/handlers/TaskHandler' imported from '/Users/ivan/Code/labelmint/test/unit/bot/handlers/TaskHandler.test.ts'.\n\n- If you rely on tsconfig.json's \"paths\" to resolve modules, please install \"vite-tsconfig-paths\" plugin to handle module resolution.\n- Make sure you don't have relative aliases in your Vitest config. Use absolute paths instead. Read more: https://vitest.dev/guide/common-errors","name":"/Users/ivan/Code/labelmint/test/unit/bot/handlers/TaskHandler.test.ts"},{"assertionResults":[],"startTime":1761260969474,"endTime":1761260969474,"status":"failed","message":"Cannot find module '@frontend/components/TaskCard' imported from '/Users/ivan/Code/labelmint/test/unit/frontend/components/TaskCard.test.tsx'.\n\n- If you rely on tsconfig.json's \"paths\" to resolve modules, please install \"vite-tsconfig-paths\" plugin to handle module resolution.\n- Make sure you don't have relative aliases in your Vitest config. Use absolute paths instead. Read more: https://vitest.dev/guide/common-errors","name":"/Users/ivan/Code/labelmint/test/unit/frontend/components/TaskCard.test.tsx"},{"assertionResults":[],"startTime":1761260969474,"endTime":1761260969474,"status":"failed","message":"Cannot find module '@payment/strategies/TonWalletStrategy' imported from '/Users/ivan/Code/labelmint/test/unit/payment/strategies/TonWalletStrategy.test.ts'.\n\n- If you rely on tsconfig.json's \"paths\" to resolve modules, please install \"vite-tsconfig-paths\" plugin to handle module resolution.\n- Make sure you don't have relative aliases in your Vitest config. Use absolute paths instead. Read more: https://vitest.dev/guide/common-errors","name":"/Users/ivan/Code/labelmint/test/unit/payment/strategies/TonWalletStrategy.test.ts"}]}
